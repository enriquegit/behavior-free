<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6.3 Mining Association Rules | Behavior Analysis with Machine Learning and R</title>
  <meta name="description" content="6.3 Mining Association Rules | Behavior Analysis with Machine Learning and R teaches you how to train machine learning models in the R programming language to make sense of behavioral data collected with sensors or stored in electronic records. This book introduces machine learning concepts and algorithms applied to a diverse set of behavior analysis problems by focusing on practical aspects. Some of the topics include how to: Build supervised models to predict indoor locations based on Wi-Fi signals, recognize physical activities from smartphone sensors, use unsupervised learning to discover criminal behavioral patterns, build deep learning models to analyze electromyography signals, CNNs to detect smiles in images and much more." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="6.3 Mining Association Rules | Behavior Analysis with Machine Learning and R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="images/cover.png" />
  <meta property="og:description" content="6.3 Mining Association Rules | Behavior Analysis with Machine Learning and R teaches you how to train machine learning models in the R programming language to make sense of behavioral data collected with sensors or stored in electronic records. This book introduces machine learning concepts and algorithms applied to a diverse set of behavior analysis problems by focusing on practical aspects. Some of the topics include how to: Build supervised models to predict indoor locations based on Wi-Fi signals, recognize physical activities from smartphone sensors, use unsupervised learning to discover criminal behavioral patterns, build deep learning models to analyze electromyography signals, CNNs to detect smiles in images and much more." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6.3 Mining Association Rules | Behavior Analysis with Machine Learning and R" />
  
  <meta name="twitter:description" content="6.3 Mining Association Rules | Behavior Analysis with Machine Learning and R teaches you how to train machine learning models in the R programming language to make sense of behavioral data collected with sensors or stored in electronic records. This book introduces machine learning concepts and algorithms applied to a diverse set of behavior analysis problems by focusing on practical aspects. Some of the topics include how to: Build supervised models to predict indoor locations based on Wi-Fi signals, recognize physical activities from smartphone sensors, use unsupervised learning to discover criminal behavioral patterns, build deep learning models to analyze electromyography signals, CNNs to detect smiles in images and much more." />
  <meta name="twitter:image" content="images/cover.png" />

<meta name="author" content="Enrique Garcia Ceja" />


<meta name="date" content="2020-09-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="the-silhouette-index.html"/>
<link rel="next" href="SummaryUnsupervised.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/d3-4.9.0/d3.min.js"></script>
<script src="libs/d3-tip-0.7.1/index-min.js"></script>
<link href="libs/d3panels-1.4.9/d3panels.min.css" rel="stylesheet" />
<script src="libs/d3panels-1.4.9/d3panels.min.js"></script>
<script src="libs/qtlcharts_iplotCorr-0.11.6/iplotCorr.js"></script>
<script src="libs/qtlcharts_iplotCorr-0.11.6/iplotCorr_noscat.js"></script>
<script src="libs/iplotCorr-binding-0.11.6/iplotCorr.js"></script>
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/dygraphs-1.1.1/shapes.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-178679335-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-178679335-1', { 'anonymize_ip': true });
</script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="#">Behavior Analysis with Machine Learning and R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#supplemental-material"><i class="fa fa-check"></i>Supplemental Material</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#conventions"><i class="fa fa-check"></i>Conventions</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="what-is-machine-learning.html"><a href="what-is-machine-learning.html"><i class="fa fa-check"></i><b>1.1</b> What is Machine Learning?</a></li>
<li class="chapter" data-level="1.2" data-path="taxonomy.html"><a href="taxonomy.html"><i class="fa fa-check"></i><b>1.2</b> Types of Machine Learning</a></li>
<li class="chapter" data-level="1.3" data-path="terminology.html"><a href="terminology.html"><i class="fa fa-check"></i><b>1.3</b> Terminology</a><ul>
<li class="chapter" data-level="1.3.1" data-path="terminology.html"><a href="terminology.html#tables"><i class="fa fa-check"></i><b>1.3.1</b> Tables</a></li>
<li class="chapter" data-level="1.3.2" data-path="terminology.html"><a href="terminology.html#variable-types"><i class="fa fa-check"></i><b>1.3.2</b> Variable types</a></li>
<li class="chapter" data-level="1.3.3" data-path="terminology.html"><a href="terminology.html#predictive-models"><i class="fa fa-check"></i><b>1.3.3</b> Predictive Models</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="pipeline.html"><a href="pipeline.html"><i class="fa fa-check"></i><b>1.4</b> Data Analysis Pipeline</a></li>
<li class="chapter" data-level="1.5" data-path="trainingeval.html"><a href="trainingeval.html"><i class="fa fa-check"></i><b>1.5</b> Evaluating Predictive Models</a></li>
<li class="chapter" data-level="1.6" data-path="simple-classification-example.html"><a href="simple-classification-example.html"><i class="fa fa-check"></i><b>1.6</b> Simple Classification Example</a><ul>
<li class="chapter" data-level="1.6.1" data-path="simple-classification-example.html"><a href="simple-classification-example.html#k-fold-cross-validation-example"><i class="fa fa-check"></i><b>1.6.1</b> K-fold Cross-Validation Example</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="simple-regression-example.html"><a href="simple-regression-example.html"><i class="fa fa-check"></i><b>1.7</b> Simple Regression Example</a></li>
<li class="chapter" data-level="1.8" data-path="underfitting-and-overfitting.html"><a href="underfitting-and-overfitting.html"><i class="fa fa-check"></i><b>1.8</b> Underfitting and Overfitting</a></li>
<li class="chapter" data-level="1.9" data-path="bias-and-variance.html"><a href="bias-and-variance.html"><i class="fa fa-check"></i><b>1.9</b> Bias and Variance</a></li>
<li class="chapter" data-level="1.10" data-path="SummaryIntro.html"><a href="SummaryIntro.html"><i class="fa fa-check"></i><b>1.10</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="classification.html"><a href="classification.html"><i class="fa fa-check"></i><b>2</b> Predicting Behavior with Classification Models</a><ul>
<li class="chapter" data-level="2.1" data-path="k-nearest-neighbors.html"><a href="k-nearest-neighbors.html"><i class="fa fa-check"></i><b>2.1</b> <em>k</em>-nearest Neighbors</a><ul>
<li class="chapter" data-level="2.1.1" data-path="k-nearest-neighbors.html"><a href="k-nearest-neighbors.html#indoor-location-with-wi-fi-signals"><i class="fa fa-check"></i><b>2.1.1</b> Indoor Location with Wi-Fi Signals</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="performance-metrics.html"><a href="performance-metrics.html"><i class="fa fa-check"></i><b>2.2</b> Performance Metrics</a></li>
<li class="chapter" data-level="2.3" data-path="decision-trees.html"><a href="decision-trees.html"><i class="fa fa-check"></i><b>2.3</b> Decision Trees</a><ul>
<li class="chapter" data-level="2.3.1" data-path="decision-trees.html"><a href="decision-trees.html#activityRecognition"><i class="fa fa-check"></i><b>2.3.1</b> Activity Recognition with Smartphones</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="dynamic-time-warping.html"><a href="dynamic-time-warping.html"><i class="fa fa-check"></i><b>2.4</b> Dynamic Time Warping</a><ul>
<li class="chapter" data-level="2.4.1" data-path="dynamic-time-warping.html"><a href="dynamic-time-warping.html#sechandgestures"><i class="fa fa-check"></i><b>2.4.1</b> Hand Gesture Recognition</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="summaryClassification.html"><a href="summaryClassification.html"><i class="fa fa-check"></i><b>2.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ensemble.html"><a href="ensemble.html"><i class="fa fa-check"></i><b>3</b> Predicting Behavior with Ensemble Learning</a><ul>
<li class="chapter" data-level="3.1" data-path="bagging.html"><a href="bagging.html"><i class="fa fa-check"></i><b>3.1</b> Bagging</a><ul>
<li class="chapter" data-level="3.1.1" data-path="bagging.html"><a href="bagging.html#activity-recognition-with-bagging"><i class="fa fa-check"></i><b>3.1.1</b> Activity recognition with Bagging</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="random-forest.html"><a href="random-forest.html"><i class="fa fa-check"></i><b>3.2</b> Random Forest</a></li>
<li class="chapter" data-level="3.3" data-path="stacked-generalization.html"><a href="stacked-generalization.html"><i class="fa fa-check"></i><b>3.3</b> Stacked Generalization</a></li>
<li class="chapter" data-level="3.4" data-path="multiviewhometasks.html"><a href="multiviewhometasks.html"><i class="fa fa-check"></i><b>3.4</b> Multi-view Stacking for Home Tasks Recognition</a></li>
<li class="chapter" data-level="3.5" data-path="SummaryEnsemble.html"><a href="SummaryEnsemble.html"><i class="fa fa-check"></i><b>3.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="edavis.html"><a href="edavis.html"><i class="fa fa-check"></i><b>4</b> Exploring and Visualizing Behavioral Data</a><ul>
<li class="chapter" data-level="4.1" data-path="talking-with-field-experts.html"><a href="talking-with-field-experts.html"><i class="fa fa-check"></i><b>4.1</b> Talking with field experts</a></li>
<li class="chapter" data-level="4.2" data-path="summary-statistics.html"><a href="summary-statistics.html"><i class="fa fa-check"></i><b>4.2</b> Summary Statistics</a></li>
<li class="chapter" data-level="4.3" data-path="class-distributions.html"><a href="class-distributions.html"><i class="fa fa-check"></i><b>4.3</b> Class Distributions</a></li>
<li class="chapter" data-level="4.4" data-path="user-class-sparsity-matrix.html"><a href="user-class-sparsity-matrix.html"><i class="fa fa-check"></i><b>4.4</b> User-Class Sparsity Matrix</a></li>
<li class="chapter" data-level="4.5" data-path="boxplots.html"><a href="boxplots.html"><i class="fa fa-check"></i><b>4.5</b> Boxplots</a></li>
<li class="chapter" data-level="4.6" data-path="correlation-plots.html"><a href="correlation-plots.html"><i class="fa fa-check"></i><b>4.6</b> Correlation Plots</a><ul>
<li class="chapter" data-level="4.6.1" data-path="correlation-plots.html"><a href="correlation-plots.html#interactive-correlation-plots"><i class="fa fa-check"></i><b>4.6.1</b> Interactive Correlation Plots</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="timeseries.html"><a href="timeseries.html"><i class="fa fa-check"></i><b>4.7</b> Timeseries</a><ul>
<li class="chapter" data-level="4.7.1" data-path="timeseries.html"><a href="timeseries.html#interactive-timeseries"><i class="fa fa-check"></i><b>4.7.1</b> Interactive Timeseries</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="multidimensional-scaling-mds.html"><a href="multidimensional-scaling-mds.html"><i class="fa fa-check"></i><b>4.8</b> Multidimensional Scaling (MDS)</a></li>
<li class="chapter" data-level="4.9" data-path="heatmaps.html"><a href="heatmaps.html"><i class="fa fa-check"></i><b>4.9</b> Heatmaps</a></li>
<li class="chapter" data-level="4.10" data-path="automated-eda.html"><a href="automated-eda.html"><i class="fa fa-check"></i><b>4.10</b> Automated EDA</a></li>
<li class="chapter" data-level="4.11" data-path="SummaryExploratory.html"><a href="SummaryExploratory.html"><i class="fa fa-check"></i><b>4.11</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="preprocessing.html"><a href="preprocessing.html"><i class="fa fa-check"></i><b>5</b> Preprocessing Behavioral Data</a><ul>
<li class="chapter" data-level="5.1" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>5.1</b> Missing Values</a><ul>
<li class="chapter" data-level="5.1.1" data-path="missing-values.html"><a href="missing-values.html#imputation"><i class="fa fa-check"></i><b>5.1.1</b> Imputation</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="smoothing.html"><a href="smoothing.html"><i class="fa fa-check"></i><b>5.2</b> Smoothing</a></li>
<li class="chapter" data-level="5.3" data-path="normalization.html"><a href="normalization.html"><i class="fa fa-check"></i><b>5.3</b> Normalization</a></li>
<li class="chapter" data-level="5.4" data-path="imbalanced-classes.html"><a href="imbalanced-classes.html"><i class="fa fa-check"></i><b>5.4</b> Imbalanced Classes</a><ul>
<li class="chapter" data-level="5.4.1" data-path="imbalanced-classes.html"><a href="imbalanced-classes.html#random-oversampling"><i class="fa fa-check"></i><b>5.4.1</b> Random oversampling</a></li>
<li class="chapter" data-level="5.4.2" data-path="imbalanced-classes.html"><a href="imbalanced-classes.html#smote"><i class="fa fa-check"></i><b>5.4.2</b> SMOTE</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="infoinjection.html"><a href="infoinjection.html"><i class="fa fa-check"></i><b>5.5</b> Information Injection</a></li>
<li class="chapter" data-level="5.6" data-path="one-hot-encoding.html"><a href="one-hot-encoding.html"><i class="fa fa-check"></i><b>5.6</b> One-hot Encoding</a></li>
<li class="chapter" data-level="5.7" data-path="SummaryPreprocessing.html"><a href="SummaryPreprocessing.html"><i class="fa fa-check"></i><b>5.7</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="unsupervised.html"><a href="unsupervised.html"><i class="fa fa-check"></i><b>6</b> Discovering Behaviors with Unsupervised Learning</a><ul>
<li class="chapter" data-level="6.1" data-path="k-means-clustering.html"><a href="k-means-clustering.html"><i class="fa fa-check"></i><b>6.1</b> K-means clustering</a><ul>
<li class="chapter" data-level="6.1.1" data-path="k-means-clustering.html"><a href="k-means-clustering.html#studentresponses"><i class="fa fa-check"></i><b>6.1.1</b> Grouping Student Responses</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="the-silhouette-index.html"><a href="the-silhouette-index.html"><i class="fa fa-check"></i><b>6.2</b> The Silhouette Index</a></li>
<li class="chapter" data-level="6.3" data-path="associationrules.html"><a href="associationrules.html"><i class="fa fa-check"></i><b>6.3</b> Mining Association Rules</a><ul>
<li class="chapter" data-level="6.3.1" data-path="associationrules.html"><a href="associationrules.html#finding-rules-for-criminal-behavior"><i class="fa fa-check"></i><b>6.3.1</b> Finding Rules for Criminal Behavior</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="SummaryUnsupervised.html"><a href="SummaryUnsupervised.html"><i class="fa fa-check"></i><b>6.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="representations.html"><a href="representations.html"><i class="fa fa-check"></i><b>7</b> Encoding Behavioral Data</a><ul>
<li class="chapter" data-level="7.1" data-path="feature-vectors.html"><a href="feature-vectors.html"><i class="fa fa-check"></i><b>7.1</b> Feature Vectors</a></li>
<li class="chapter" data-level="7.2" data-path="sectimeseries.html"><a href="sectimeseries.html"><i class="fa fa-check"></i><b>7.2</b> Timeseries</a></li>
<li class="chapter" data-level="7.3" data-path="transactions.html"><a href="transactions.html"><i class="fa fa-check"></i><b>7.3</b> Transactions</a></li>
<li class="chapter" data-level="7.4" data-path="images.html"><a href="images.html"><i class="fa fa-check"></i><b>7.4</b> Images</a></li>
<li class="chapter" data-level="7.5" data-path="recurrence-plots.html"><a href="recurrence-plots.html"><i class="fa fa-check"></i><b>7.5</b> Recurrence Plots</a><ul>
<li class="chapter" data-level="7.5.1" data-path="recurrence-plots.html"><a href="recurrence-plots.html#computing-recurence-plots"><i class="fa fa-check"></i><b>7.5.1</b> Computing Recurence Plots</a></li>
<li class="chapter" data-level="7.5.2" data-path="recurrence-plots.html"><a href="recurrence-plots.html#recurrence-plots-of-hand-gestures"><i class="fa fa-check"></i><b>7.5.2</b> Recurrence Plots of Hand Gestures</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="bag-of-words.html"><a href="bag-of-words.html"><i class="fa fa-check"></i><b>7.6</b> Bag-of-Words</a><ul>
<li class="chapter" data-level="7.6.1" data-path="bag-of-words.html"><a href="bag-of-words.html#bow-for-complex-activities."><i class="fa fa-check"></i><b>7.6.1</b> BoW for Complex Activities.</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="graphs.html"><a href="graphs.html"><i class="fa fa-check"></i><b>7.7</b> Graphs</a><ul>
<li class="chapter" data-level="7.7.1" data-path="graphs.html"><a href="graphs.html#complex-activities-as-graphs"><i class="fa fa-check"></i><b>7.7.1</b> Complex activities as graphs</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="SummaryRepresentations.html"><a href="SummaryRepresentations.html"><i class="fa fa-check"></i><b>7.8</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="deeplearning.html"><a href="deeplearning.html"><i class="fa fa-check"></i><b>8</b> Predicting Behavior with Deep Learning</a><ul>
<li class="chapter" data-level="8.1" data-path="ann.html"><a href="ann.html"><i class="fa fa-check"></i><b>8.1</b> Introduction to Artificial Neural Networks</a><ul>
<li class="chapter" data-level="8.1.1" data-path="ann.html"><a href="ann.html#sigmoid-and-relu-units"><i class="fa fa-check"></i><b>8.1.1</b> Sigmoid and ReLU units</a></li>
<li class="chapter" data-level="8.1.2" data-path="ann.html"><a href="ann.html#assembling-units-into-layers"><i class="fa fa-check"></i><b>8.1.2</b> Assembling Units into Layers</a></li>
<li class="chapter" data-level="8.1.3" data-path="ann.html"><a href="ann.html#deep-neural-networks"><i class="fa fa-check"></i><b>8.1.3</b> Deep Neural Networks</a></li>
<li class="chapter" data-level="8.1.4" data-path="ann.html"><a href="ann.html#learning-the-parameters"><i class="fa fa-check"></i><b>8.1.4</b> Learning the Parameters</a></li>
<li class="chapter" data-level="8.1.5" data-path="ann.html"><a href="ann.html#parameter-learning-example-in-r"><i class="fa fa-check"></i><b>8.1.5</b> Parameter Learning Example in R</a></li>
<li class="chapter" data-level="8.1.6" data-path="ann.html"><a href="ann.html#stochastic-gradient-descent"><i class="fa fa-check"></i><b>8.1.6</b> Stochastic Gradient Descent</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="keras-and-tensorflow-with-r.html"><a href="keras-and-tensorflow-with-r.html"><i class="fa fa-check"></i><b>8.2</b> Keras and TensorFlow with R</a><ul>
<li class="chapter" data-level="8.2.1" data-path="keras-and-tensorflow-with-r.html"><a href="keras-and-tensorflow-with-r.html#keras-example"><i class="fa fa-check"></i><b>8.2.1</b> Keras Example</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="classification-with-neural-networks.html"><a href="classification-with-neural-networks.html"><i class="fa fa-check"></i><b>8.3</b> Classification with Neural Networks</a><ul>
<li class="chapter" data-level="8.3.1" data-path="classification-with-neural-networks.html"><a href="classification-with-neural-networks.html#classification-of-electromyography-signals"><i class="fa fa-check"></i><b>8.3.1</b> Classification of Electromyography Signals</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="overfitting.html"><a href="overfitting.html"><i class="fa fa-check"></i><b>8.4</b> Overfitting</a><ul>
<li class="chapter" data-level="8.4.1" data-path="overfitting.html"><a href="overfitting.html#early-stopping"><i class="fa fa-check"></i><b>8.4.1</b> Early Stopping</a></li>
<li class="chapter" data-level="8.4.2" data-path="overfitting.html"><a href="overfitting.html#dropout"><i class="fa fa-check"></i><b>8.4.2</b> Dropout</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="fine-tuning-a-neural-network.html"><a href="fine-tuning-a-neural-network.html"><i class="fa fa-check"></i><b>8.5</b> Fine-Tuning a Neural Network</a></li>
<li class="chapter" data-level="8.6" data-path="cnns.html"><a href="cnns.html"><i class="fa fa-check"></i><b>8.6</b> Convolutional Neural Networks</a><ul>
<li class="chapter" data-level="8.6.1" data-path="cnns.html"><a href="cnns.html#convolutions"><i class="fa fa-check"></i><b>8.6.1</b> Convolutions</a></li>
<li class="chapter" data-level="8.6.2" data-path="cnns.html"><a href="cnns.html#pooling-operations"><i class="fa fa-check"></i><b>8.6.2</b> Pooling Operations</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="cnns-with-keras.html"><a href="cnns-with-keras.html"><i class="fa fa-check"></i><b>8.7</b> CNNs with Keras</a><ul>
<li class="chapter" data-level="8.7.1" data-path="cnns-with-keras.html"><a href="cnns-with-keras.html#example-1"><i class="fa fa-check"></i><b>8.7.1</b> Example 1</a></li>
<li class="chapter" data-level="8.7.2" data-path="cnns-with-keras.html"><a href="cnns-with-keras.html#example-2"><i class="fa fa-check"></i><b>8.7.2</b> Example 2</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="cnnSmile.html"><a href="cnnSmile.html"><i class="fa fa-check"></i><b>8.8</b> Smiles Detection with a CNN</a></li>
<li class="chapter" data-level="8.9" data-path="SummaryDeepLearning.html"><a href="SummaryDeepLearning.html"><i class="fa fa-check"></i><b>8.9</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="multiuser.html"><a href="multiuser.html"><i class="fa fa-check"></i><b>9</b> Multi-User Validation</a><ul>
<li class="chapter" data-level="9.1" data-path="mixed-models.html"><a href="mixed-models.html"><i class="fa fa-check"></i><b>9.1</b> Mixed Models</a><ul>
<li class="chapter" data-level="9.1.1" data-path="mixed-models.html"><a href="mixed-models.html#skeleton-action-recognition-with-mixed-models"><i class="fa fa-check"></i><b>9.1.1</b> Skeleton Action Recognition with Mixed Models</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="user-independent-models.html"><a href="user-independent-models.html"><i class="fa fa-check"></i><b>9.2</b> User-Independent Models</a></li>
<li class="chapter" data-level="9.3" data-path="user-dependent-models.html"><a href="user-dependent-models.html"><i class="fa fa-check"></i><b>9.3</b> User-Dependent Models</a></li>
<li class="chapter" data-level="9.4" data-path="user-adaptive-models.html"><a href="user-adaptive-models.html"><i class="fa fa-check"></i><b>9.4</b> User-Adaptive Models</a><ul>
<li class="chapter" data-level="9.4.1" data-path="user-adaptive-models.html"><a href="user-adaptive-models.html#transfer-learning"><i class="fa fa-check"></i><b>9.4.1</b> Transfer Learning</a></li>
<li class="chapter" data-level="9.4.2" data-path="user-adaptive-models.html"><a href="user-adaptive-models.html#a-user-adaptive-model-for-activity-recognition"><i class="fa fa-check"></i><b>9.4.2</b> A User-Adaptive Model for Activity Recognition</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="SummaryMultiUser.html"><a href="SummaryMultiUser.html"><i class="fa fa-check"></i><b>9.5</b> Summary</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="appendixInstall.html"><a href="appendixInstall.html"><i class="fa fa-check"></i><b>A</b> Setup Your Environment</a><ul>
<li class="chapter" data-level="A.1" data-path="installing-the-datasets.html"><a href="installing-the-datasets.html"><i class="fa fa-check"></i><b>A.1</b> Installing the Datasets</a></li>
<li class="chapter" data-level="A.2" data-path="installing-the-examples-source-code.html"><a href="installing-the-examples-source-code.html"><i class="fa fa-check"></i><b>A.2</b> Installing the Examples Source Code</a></li>
<li class="chapter" data-level="A.3" data-path="installing-keras-and-tensorflow-.html"><a href="installing-keras-and-tensorflow-.html"><i class="fa fa-check"></i><b>A.3</b> Installing Keras and TensorFlow.</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="appendixDatasets.html"><a href="appendixDatasets.html"><i class="fa fa-check"></i><b>B</b> Datasets</a><ul>
<li class="chapter" data-level="B.1" data-path="complex-activities.html"><a href="complex-activities.html"><i class="fa fa-check"></i><b>B.1</b> COMPLEX ACTIVITIES</a></li>
<li class="chapter" data-level="B.2" data-path="depresjon.html"><a href="depresjon.html"><i class="fa fa-check"></i><b>B.2</b> DEPRESJON</a></li>
<li class="chapter" data-level="B.3" data-path="electromyography.html"><a href="electromyography.html"><i class="fa fa-check"></i><b>B.3</b> ELECTROMYOGRAPHY</a></li>
<li class="chapter" data-level="B.4" data-path="hand-gestures.html"><a href="hand-gestures.html"><i class="fa fa-check"></i><b>B.4</b> HAND GESTURES</a></li>
<li class="chapter" data-level="B.5" data-path="home-tasks.html"><a href="home-tasks.html"><i class="fa fa-check"></i><b>B.5</b> HOME TASKS</a></li>
<li class="chapter" data-level="B.6" data-path="homicide-reports.html"><a href="homicide-reports.html"><i class="fa fa-check"></i><b>B.6</b> HOMICIDE REPORTS</a></li>
<li class="chapter" data-level="B.7" data-path="indoor-location.html"><a href="indoor-location.html"><i class="fa fa-check"></i><b>B.7</b> INDOOR LOCATION</a></li>
<li class="chapter" data-level="B.8" data-path="sheep-goats.html"><a href="sheep-goats.html"><i class="fa fa-check"></i><b>B.8</b> SHEEP GOATS</a></li>
<li class="chapter" data-level="B.9" data-path="skeleton-actions.html"><a href="skeleton-actions.html"><i class="fa fa-check"></i><b>B.9</b> SKELETON ACTIONS</a></li>
<li class="chapter" data-level="B.10" data-path="smartphone-activities.html"><a href="smartphone-activities.html"><i class="fa fa-check"></i><b>B.10</b> SMARTPHONE ACTIVITIES</a></li>
<li class="chapter" data-level="B.11" data-path="smiles.html"><a href="smiles.html"><i class="fa fa-check"></i><b>B.11</b> SMILES</a></li>
<li class="chapter" data-level="B.12" data-path="students-mental-health.html"><a href="students-mental-health.html"><i class="fa fa-check"></i><b>B.12</b> STUDENTS’ MENTAL HEALTH</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="citing-this-book.html"><a href="citing-this-book.html"><i class="fa fa-check"></i>Citing this Book</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Behavior Analysis with Machine Learning and R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="associationrules" class="section level2">
<h2><span class="header-section-number">6.3</span> Mining Association Rules</h2>
<p>Association rule mining consists of a set of methods to extract patterns (rules) from transactional data. For example, shopping behavior can be analyzed by finding rules from customers’ shopping transactions. A <strong>transaction</strong> is an event that involves a set of items. For example, when someone buys a soda, a bag of chips, and a chocolate bar the purchase is registered as <em>one</em> transaction containing <span class="math inline">\(3\)</span> items. I apologize for using this example for those of you with healthy diets. Based on a database that contains many transactions, it is possible to uncover item relationships. Those relationships are usually expressed as implication rules of the form <span class="math inline">\(X \implies Y\)</span> where <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are sets of items. Both sets are disjoint, this means that items in <span class="math inline">\(X\)</span> are not in <span class="math inline">\(Y\)</span> and vice-versa which can be formally represented as <span class="math inline">\(X \cap Y = \emptyset\)</span>, that is, the intersection of the two sets is the empty set. <span class="math inline">\(X \implies Y\)</span> is read as: if <span class="math inline">\(X\)</span> then <span class="math inline">\(Y\)</span>. The left-hand-side (lhs) <span class="math inline">\(X\)</span> is called the <strong>antecedent</strong> and the right-hand-side (rhs) <span class="math inline">\(Y\)</span> is called the <strong>consequent</strong>.</p>
<p>In the unhealthy supermarket example, a rule like <span class="math inline">\(\{chips, chocolate\} \implies \{soda\}\)</span> can be interpreted as <em>if someone buys chips and chocolate then, it is likely that this same person will also buy soda</em>. These types of rules can be used for targeted advertisements, product placement decisions, etc.</p>
<p>The possible number of rules that can be generated grows exponentially as the number of items increases. Furthermore, not all rules may be interesting. The most well-known algorithm to find interesting association rules is called <strong>Apriori</strong> <span class="citation">(Agrawal and Srikant <a href="#ref-agrawal1994" role="doc-biblioref">1994</a>)</span>. To quantify if a rule is interesting or not, this algorithm uses two importance measures: <strong>support</strong> and <strong>confidence</strong>.</p>
<ul>
<li><p><strong>Support.</strong> The support <span class="math inline">\(\text{supp}(X)\)</span> of an itemset <span class="math inline">\(X\)</span> is the proportion of transactions that contain all the items in <span class="math inline">\(X\)</span>. This quantifies how frequent the itemset is.</p></li>
<li><p><strong>Confidence.</strong> The confidence of a rule <span class="math inline">\(\text{conf}(X \implies Y)=\text{supp}(X \cup Y)/\text{supp}(X)\)</span> and can be interpreted as the probability that <span class="math inline">\(Y\)</span> occurs given that <span class="math inline">\(X\)</span> is present. This can also be thought of as the probability that a transaction that contains <span class="math inline">\(X\)</span> also contains <span class="math inline">\(Y\)</span>. The <span class="math inline">\(\cup\)</span> operator is the union of two sets. This means taking all elements from both sets and removing repeated elements.</p></li>
</ul>
<p>Now that we have a way to measure the rules’ importance, the Apriori algorithm first finds itemsets that satisfy a minimum support and generates rules from those itemsets that satisfy a minimum confidence. Those minimum thresholds are set by the user. The lower the thresholds, the more rules returned by the algorithm. One thing to note is that Apriori only generates rules with itemsets of size <span class="math inline">\(1\)</span> on the right-hand side. Another common metric to measure the importance of a rule is the <strong>lift</strong>. Lift is typically used after Apriori has generated the rules to further filter and/or rank the results.</p>
<ul>
<li><strong>Lift.</strong> The lift of a rule <span class="math inline">\(\text{lift}(X \implies Y) = \text{supp}(X \cup Y) / (\text{supp}(X)\text{supp}(Y))\)</span> is similar to the confidence but it also takes into consideration the frequency of <span class="math inline">\(Y\)</span>. A lift of <span class="math inline">\(1\)</span> means that there is no association between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>. A lift greater than <span class="math inline">\(1\)</span> means that <span class="math inline">\(Y\)</span> is likely to occur if <span class="math inline">\(X\)</span> occurs and a lift less than <span class="math inline">\(1\)</span> means that <span class="math inline">\(Y\)</span> is unlikely to occur when <span class="math inline">\(X\)</span> occurs.</li>
</ul>
<p>Let’s compute all those metrics using an example. The following table shows an example database of transactions.</p>
<div class="figure" style="text-align: center"><span id="fig:transactionsTab"></span>
<img src="images/transactions_tab.png" alt="Example database with 10 transactions." width="50%" />
<p class="caption">
Figure 6.10: Example database with 10 transactions.
</p>
</div>
<p>The support of the itemset consisting of a single item <em>‘chocolate’</em> is <span class="math inline">\(\text{supp}(\{chocolate\}) = 5/10 = 0.5\)</span> because <em>‘chocolate’</em> appears in <span class="math inline">\(5\)</span> out of the <span class="math inline">\(10\)</span> transactions. The support of <span class="math inline">\(\{chips, soda\}\)</span> is <span class="math inline">\(3/10 = 0.3\)</span>.</p>
<p>For example, the confidence of the rule <span class="math inline">\(\{chocolate, chips\} \implies \{soda\}\)</span> is:</p>
<p><span class="math display">\[\begin{align*}
\text{conf}(\{chocolate, chips\} \implies \{soda\})&amp;=\frac{\text{supp}(\{chocolate, chips, soda\})}{\text{supp}(\{chocolate,chips\})} \\
&amp;=(2/10) / (3/10) \\
&amp;=0.66
\end{align*}\]</span></p>
<p>The lift of <span class="math inline">\(\{soda\} \implies \{ice cream\}\)</span> is:</p>
<p><span class="math display">\[\begin{align*}
\text{lift}(\{soda\} \implies \{ice cream\})&amp;=\frac{\text{supp}(\{soda, ice cream\})}{\text{supp}(\{soda\})\text{supp}(\{ice cream\})} \\
&amp;=(2/10) / ((7/10)(3/10)) \\
&amp;=0.95
\end{align*}\]</span></p>
<p>Association rules mining is unsupervised in the sense that there are no labels or ground truth. Many applications of association rules are targeted to market basket analysis to gain insights into shoppers’ behavior and take actions to increase sales. To find such rules it is necessary to have ‘transactions’ (sets of items), for example, supermarket products. However, this is not the only application of association rules. There are other problems that can be structured as transactions of items. For example in medicine, <em>diseases</em> can be seen as transactions and <em>symptoms</em> as items. Thus, one can apply association rules algorithms to find symptoms and disease relationships. Another application is in recommender systems. Take, for example, movies. Transactions can be the set of movies watched by every user. If you watched a movie <span class="math inline">\(m\)</span> then, the recommender system can suggest another movie that co-occurred frequently with <span class="math inline">\(m\)</span> and that you have not watched yet. Even other types of relational data can be transformed into transaction-like structures to find patterns and this is precisely what we are going to do in the next section to mine criminal patterns.</p>
<div id="finding-rules-for-criminal-behavior" class="section level3">
<h3><span class="header-section-number">6.3.1</span> Finding Rules for Criminal Behavior</h3>

<div class="rmdfolder">
<code>crimes_process.R</code> <code>crimes_rules.R</code>
</div>

<p>In this section, we will use association rules mining to find patterns in the <em>HOMICIDE REPORTS</em><a href="#fn12" class="footnote-ref" id="fnref12"><sup>12</sup></a> dataset. This database contains homicide reports from 1980 to 2014 in the United States. The database is structured as a table with <span class="math inline">\(24\)</span> columns and <span class="math inline">\(638,454\)</span> rows. Each row corresponds to a homicide report that includes city, state, year, month, the sex of the victim, sex of the perpetrator, if the crime was solved or not, weapon used, age of the victim and perpetrator, the relationship type between the victim and the perpetrator and some other information.</p>
<p>Before trying to find rules, the data needs to be preprocessed and converted into transactions. Each homicide report will be a transaction and the items will be the possible values of <span class="math inline">\(3\)</span> of the columns: <strong>Relationship</strong>, <strong>Weapon</strong>, and <strong>Perpetrator.Age</strong>. The <strong>Relationship</strong> variable can take values like <em>Stranger</em>, <em>Neighbor</em>, <em>Friend</em>, etc. In total, there are <span class="math inline">\(28\)</span> possible relationship values including <em>Unknown</em>. For the purpose of our analysis, we will remove rows with unknown values in <strong>Relationship</strong> and <strong>Weapon</strong>. Since <strong>Perpetrator.Age</strong> is an integer, we need to convert it into categories. The following age groups are created: child (&lt; <span class="math inline">\(13\)</span> years), teen (<span class="math inline">\(13\)</span> to <span class="math inline">\(17\)</span> years), adult (<span class="math inline">\(18\)</span> to <span class="math inline">\(45\)</span> years) and lateAdulthood (&gt; <span class="math inline">\(45\)</span> years). After these cleaning and preprocessing steps, the dataset has <span class="math inline">\(3\)</span> columns and <span class="math inline">\(328,238\)</span> rows. See Figure <a href="associationrules.html#fig:tabcrimes">6.11</a>. The script used to perform the preprocessing is <code>crimes_process.R</code>.</p>
<div class="figure" style="text-align: center"><span id="fig:tabcrimes"></span>
<img src="images/table_crimes.png" alt="First rows of preprocessed crimes data frame." width="50%" />
<p class="caption">
Figure 6.11: First rows of preprocessed crimes data frame.
</p>
</div>
<p>Now, we have a data frame that contains only the information that we will use and each row will be used to generate one transaction. An example transaction may be <em>{R.Wife, Knife, Adult}</em>. This one represents the case where the perpetrator is an <em>adult</em> who used a <em>knife</em> to kill his <em>wife</em>. Note the ‘R.’ at the beginning of ‘Wife’. This ‘R.’ was added for clarity in order to identify that this item is a relationship. One thing to note is that every transaction will consist of exactly <span class="math inline">\(3\)</span> items. This is a bit different than the market basket case in which every transaction can include a varying number of products. Although this item-size constraint was a design decision based on the structure of the original data, this will not prevent us from performing the analysis to find interesting rules.</p>
<p>To find the association rules, the <code>arules</code> package <span class="citation">(Hahsler et al. <a href="#ref-arules" role="doc-biblioref">2019</a>)</span> will be used. This package has an interface to an efficient implementation in C of the Apriori algorithm. This package needs the transactions to be stored as an object of type ‘transactions’. One way to create this object is to use a <strong>logical matrix</strong> and cast it into a transactions object. The rows of the logical matrix represent transactions and columns represent items. The number of columns equals the total number of possible items with a <code>TRUE</code> value if the item is present in the transaction and <code>FALSE</code> otherwise. In our case, the matrix has <span class="math inline">\(46\)</span> columns. The <code>crimes_process.R</code> script has code to generate this matrix <code>M</code>. The <span class="math inline">\(46\)</span> items (columns of <code>M</code>) are:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="associationrules.html#cb101-1"></a><span class="kw">as.character</span>(<span class="kw">colnames</span>(M))</span>
<span id="cb101-2"><a href="associationrules.html#cb101-2"></a><span class="co">#&gt; [1] &quot;R.Acquaintance&quot;         &quot;R.Wife&quot;                 &quot;R.Stranger&quot;            </span></span>
<span id="cb101-3"><a href="associationrules.html#cb101-3"></a><span class="co">#&gt; [4] &quot;R.Girlfriend&quot;           &quot;R.Ex-Husband&quot;           &quot;R.Brother&quot;             </span></span>
<span id="cb101-4"><a href="associationrules.html#cb101-4"></a><span class="co">#&gt; [7] &quot;R.Stepdaughter&quot;         &quot;R.Husband&quot;              &quot;R.Friend&quot;              </span></span>
<span id="cb101-5"><a href="associationrules.html#cb101-5"></a><span class="co">#&gt; [10] &quot;R.Family&quot;               &quot;R.Neighbor&quot;             &quot;R.Father&quot;              </span></span>
<span id="cb101-6"><a href="associationrules.html#cb101-6"></a><span class="co">#&gt; [13] &quot;R.In-Law&quot;               &quot;R.Son&quot;                  &quot;R.Ex-Wife&quot;             </span></span>
<span id="cb101-7"><a href="associationrules.html#cb101-7"></a><span class="co">#&gt; [16] &quot;R.Boyfriend&quot;            &quot;R.Mother&quot;               &quot;R.Sister&quot;              </span></span>
<span id="cb101-8"><a href="associationrules.html#cb101-8"></a><span class="co">#&gt; [19] &quot;R.Common-Law Husband&quot;   &quot;R.Common-Law Wife&quot;      &quot;R.Stepfather&quot;          </span></span>
<span id="cb101-9"><a href="associationrules.html#cb101-9"></a><span class="co">#&gt; [22] &quot;R.Stepson&quot;              &quot;R.Stepmother&quot;           &quot;R.Daughter&quot;            </span></span>
<span id="cb101-10"><a href="associationrules.html#cb101-10"></a><span class="co">#&gt; [25] &quot;R.Boyfriend/Girlfriend&quot; &quot;R.Employer&quot;             &quot;R.Employee&quot;            </span></span>
<span id="cb101-11"><a href="associationrules.html#cb101-11"></a><span class="co">#&gt; [28] &quot;Blunt Object&quot;           &quot;Strangulation&quot;          &quot;Rifle&quot;                 </span></span>
<span id="cb101-12"><a href="associationrules.html#cb101-12"></a><span class="co">#&gt; [31] &quot;Knife&quot;                  &quot;Shotgun&quot;                &quot;Handgun&quot;               </span></span>
<span id="cb101-13"><a href="associationrules.html#cb101-13"></a><span class="co">#&gt; [34] &quot;Drowning&quot;               &quot;Firearm&quot;                &quot;Suffocation&quot;           </span></span>
<span id="cb101-14"><a href="associationrules.html#cb101-14"></a><span class="co">#&gt; [37] &quot;Fire&quot;                   &quot;Drugs&quot;                  &quot;Explosives&quot;            </span></span>
<span id="cb101-15"><a href="associationrules.html#cb101-15"></a><span class="co">#&gt; [40] &quot;Fall&quot;                   &quot;Gun&quot;                    &quot;Poison&quot;                </span></span>
<span id="cb101-16"><a href="associationrules.html#cb101-16"></a><span class="co">#&gt; [43] &quot;teen&quot;                   &quot;adult&quot;                  &quot;lateAdulthood&quot;         </span></span>
<span id="cb101-17"><a href="associationrules.html#cb101-17"></a><span class="co">#&gt; [46] &quot;child&quot;</span></span></code></pre></div>
<p>The following snippet shows how to convert the matrix into an <code>arules</code> transactions object. Before the conversion, the package <code>arules</code> needs to be loaded. Then the transactions are saved in a file <code>transactions.RData</code>.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="associationrules.html#cb102-1"></a><span class="kw">library</span>(arules)</span>
<span id="cb102-2"><a href="associationrules.html#cb102-2"></a></span>
<span id="cb102-3"><a href="associationrules.html#cb102-3"></a><span class="co"># Convert into a transactions object.</span></span>
<span id="cb102-4"><a href="associationrules.html#cb102-4"></a>transactions &lt;-<span class="st"> </span><span class="kw">as</span>(M, <span class="st">&quot;transactions&quot;</span>)</span>
<span id="cb102-5"><a href="associationrules.html#cb102-5"></a></span>
<span id="cb102-6"><a href="associationrules.html#cb102-6"></a><span class="co"># Save transactions file.</span></span>
<span id="cb102-7"><a href="associationrules.html#cb102-7"></a><span class="kw">save</span>(transactions, <span class="dt">file=</span><span class="st">&quot;transactions.RData&quot;</span>)</span></code></pre></div>
<p>Now that the database is in the required format we can start the analysis. The <code>crimes_rules.R</code> script has the code to perform the analysis. First, the transactions file that we generated before is loaded:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="associationrules.html#cb103-1"></a><span class="kw">library</span>(arules)</span>
<span id="cb103-2"><a href="associationrules.html#cb103-2"></a><span class="kw">library</span>(arulesViz)</span>
<span id="cb103-3"><a href="associationrules.html#cb103-3"></a></span>
<span id="cb103-4"><a href="associationrules.html#cb103-4"></a><span class="co"># Load preprocessed data.</span></span>
<span id="cb103-5"><a href="associationrules.html#cb103-5"></a><span class="kw">load</span>(<span class="st">&quot;transactions.RData&quot;</span>)</span></code></pre></div>
<p>Note that additionally to the <code>arules</code> package, we also loaded the <code>arulesViz</code> package <span class="citation">(Hahsler <a href="#ref-ParulesViz" role="doc-biblioref">2019</a>)</span>. This package has several functions to generate cool plots of the learned rules! A summary of the transactions can be printed with the <code>summary()</code> function:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="associationrules.html#cb104-1"></a><span class="co"># Print summary.</span></span>
<span id="cb104-2"><a href="associationrules.html#cb104-2"></a><span class="kw">summary</span>(transactions)</span>
<span id="cb104-3"><a href="associationrules.html#cb104-3"></a></span>
<span id="cb104-4"><a href="associationrules.html#cb104-4"></a><span class="co">#&gt; transactions as itemMatrix in sparse format with</span></span>
<span id="cb104-5"><a href="associationrules.html#cb104-5"></a><span class="co">#&gt; 328238 rows (elements/itemsets/transactions) and</span></span>
<span id="cb104-6"><a href="associationrules.html#cb104-6"></a><span class="co">#&gt; 46 columns (items) and a density of 0.06521739 </span></span>
<span id="cb104-7"><a href="associationrules.html#cb104-7"></a><span class="co">#&gt; </span></span>
<span id="cb104-8"><a href="associationrules.html#cb104-8"></a><span class="co">#&gt; most frequent items:</span></span>
<span id="cb104-9"><a href="associationrules.html#cb104-9"></a><span class="co">#&gt;   adult        Handgun R.Acquaintance     R.Stranger </span></span>
<span id="cb104-10"><a href="associationrules.html#cb104-10"></a><span class="co">#&gt; 257026         160586         117305          77725 </span></span>
<span id="cb104-11"><a href="associationrules.html#cb104-11"></a><span class="co">#&gt; Knife        (Other) </span></span>
<span id="cb104-12"><a href="associationrules.html#cb104-12"></a><span class="co">#&gt; 61936         310136 </span></span>
<span id="cb104-13"><a href="associationrules.html#cb104-13"></a><span class="co">#&gt; </span></span>
<span id="cb104-14"><a href="associationrules.html#cb104-14"></a><span class="co">#&gt; element (itemset/transaction) length distribution:</span></span>
<span id="cb104-15"><a href="associationrules.html#cb104-15"></a><span class="co">#&gt;   sizes</span></span>
<span id="cb104-16"><a href="associationrules.html#cb104-16"></a><span class="co">#&gt; 3 </span></span>
<span id="cb104-17"><a href="associationrules.html#cb104-17"></a><span class="co">#&gt; 328238 </span></span>
<span id="cb104-18"><a href="associationrules.html#cb104-18"></a><span class="co">#&gt; </span></span>
<span id="cb104-19"><a href="associationrules.html#cb104-19"></a><span class="co">#&gt; Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb104-20"><a href="associationrules.html#cb104-20"></a><span class="co">#&gt; 3       3       3       3       3       3 </span></span>
<span id="cb104-21"><a href="associationrules.html#cb104-21"></a><span class="co">#&gt; </span></span>
<span id="cb104-22"><a href="associationrules.html#cb104-22"></a><span class="co">#&gt; includes extended item information - examples:</span></span>
<span id="cb104-23"><a href="associationrules.html#cb104-23"></a><span class="co">#&gt;   labels</span></span>
<span id="cb104-24"><a href="associationrules.html#cb104-24"></a><span class="co">#&gt; Relationship1 R.Acquaintance</span></span>
<span id="cb104-25"><a href="associationrules.html#cb104-25"></a><span class="co">#&gt; Relationship2         R.Wife</span></span>
<span id="cb104-26"><a href="associationrules.html#cb104-26"></a><span class="co">#&gt; Relationship3     R.Stranger</span></span></code></pre></div>
<p>The summary shows the total number of rows (transactions) and the number of columns. It also prints the most frequent items, in this case, <em>adult</em> with <span class="math inline">\(257026\)</span> occurrences, <em>Handgun</em> with <span class="math inline">\(160586\)</span>, and so on. The itemset sizes are also displayed. Here, all itemsets have a size of <span class="math inline">\(3\)</span> (by design). Some other summary statistics are also printed.</p>
<p>We can use the <code>itemFrequencyPlot()</code> function from the <code>arulesViz</code> package to plot the frequency of items.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="associationrules.html#cb105-1"></a><span class="kw">itemFrequencyPlot</span>(transactions,</span>
<span id="cb105-2"><a href="associationrules.html#cb105-2"></a>                  <span class="dt">type =</span> <span class="st">&quot;relative&quot;</span>,</span>
<span id="cb105-3"><a href="associationrules.html#cb105-3"></a>                  <span class="dt">topN =</span> <span class="dv">15</span>,</span>
<span id="cb105-4"><a href="associationrules.html#cb105-4"></a>                  <span class="dt">main =</span> <span class="st">&#39;Item frequecies&#39;</span>)</span></code></pre></div>
<p>The <code>type</code> argument specifies that we want to plot the relative frequencies. Use <code>"absolute"</code> instead to plot the total counts. <code>topN</code> is used to select how many items are plotted. Figure <a href="associationrules.html#fig:rulesfreqs">6.12</a> shows the output.</p>
<div class="figure" style="text-align: center"><span id="fig:rulesfreqs"></span>
<img src="images/item_freqs.png" alt="Frequences of the top 15 items." width="100%" />
<p class="caption">
Figure 6.12: Frequences of the top 15 items.
</p>
</div>
<p>Now it is time to find some interesting rules! This can be done with the <code>apriori()</code> function as follows:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="associationrules.html#cb106-1"></a><span class="co"># Run apriori algorithm.</span></span>
<span id="cb106-2"><a href="associationrules.html#cb106-2"></a>resrules &lt;-<span class="st"> </span><span class="kw">apriori</span>(transactions,</span>
<span id="cb106-3"><a href="associationrules.html#cb106-3"></a>                    <span class="dt">parameter =</span> <span class="kw">list</span>(<span class="dt">support =</span> <span class="fl">0.001</span>,</span>
<span id="cb106-4"><a href="associationrules.html#cb106-4"></a>                                     <span class="dt">confidence =</span> <span class="fl">0.5</span>,</span>
<span id="cb106-5"><a href="associationrules.html#cb106-5"></a>                                     <span class="co"># Find rules with at least 2 items.</span></span>
<span id="cb106-6"><a href="associationrules.html#cb106-6"></a>                                     <span class="dt">minlen =</span> <span class="dv">2</span>,</span>
<span id="cb106-7"><a href="associationrules.html#cb106-7"></a>                                     <span class="dt">target =</span> <span class="st">&#39;rules&#39;</span>))</span></code></pre></div>
<p>The first argument is the transactions object. The second argument <code>parameter</code> specifies a list of algorithm parameters. In this case we want rules with a minimum support of <span class="math inline">\(0.001\)</span> a confidence of at least <span class="math inline">\(0.5\)</span>. The <code>minlen</code> argument specifies the minimum number of allowed items in a rule for the antecedent + consequent. We set it to <span class="math inline">\(2\)</span> since we want rules with at least one element in the antecedent and one element in the consequent, for example, <em>{item1 =&gt; item2}</em>. This Apriori algorithm creates rules with only one item in the consequent. Finally, the <code>target</code> parameter is used to specify that we want to find rules because the function can also return item sets of different types (see the documentation for more details). The returned rules are saved in the <code>resrules</code> variable that can be used later to explore the results. We can also print a summary of the returned results.</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="associationrules.html#cb107-1"></a><span class="co"># Print a summary of the results.</span></span>
<span id="cb107-2"><a href="associationrules.html#cb107-2"></a><span class="kw">summary</span>(resrules)</span>
<span id="cb107-3"><a href="associationrules.html#cb107-3"></a></span>
<span id="cb107-4"><a href="associationrules.html#cb107-4"></a><span class="co">#&gt; set of 141 rules</span></span>
<span id="cb107-5"><a href="associationrules.html#cb107-5"></a><span class="co">#&gt; </span></span>
<span id="cb107-6"><a href="associationrules.html#cb107-6"></a><span class="co">#&gt; rule length distribution (lhs + rhs):sizes</span></span>
<span id="cb107-7"><a href="associationrules.html#cb107-7"></a><span class="co">#&gt; 2  3 </span></span>
<span id="cb107-8"><a href="associationrules.html#cb107-8"></a><span class="co">#&gt; 45 96 </span></span>
<span id="cb107-9"><a href="associationrules.html#cb107-9"></a><span class="co">#&gt; </span></span>
<span id="cb107-10"><a href="associationrules.html#cb107-10"></a><span class="co">#&gt; Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb107-11"><a href="associationrules.html#cb107-11"></a><span class="co">#&gt; 2.000   2.000   3.000   2.681   3.000   3.000 </span></span>
<span id="cb107-12"><a href="associationrules.html#cb107-12"></a><span class="co">#&gt; </span></span>
<span id="cb107-13"><a href="associationrules.html#cb107-13"></a><span class="co">#&gt; summary of quality measures:</span></span>
<span id="cb107-14"><a href="associationrules.html#cb107-14"></a><span class="co">#&gt;   support           confidence          lift            count       </span></span>
<span id="cb107-15"><a href="associationrules.html#cb107-15"></a><span class="co">#&gt; Min.   :0.001030   Min.   :0.5045   Min.   :0.6535   Min.   :   338  </span></span>
<span id="cb107-16"><a href="associationrules.html#cb107-16"></a><span class="co">#&gt; 1st Qu.:0.001767   1st Qu.:0.6478   1st Qu.:0.9158   1st Qu.:   580  </span></span>
<span id="cb107-17"><a href="associationrules.html#cb107-17"></a><span class="co">#&gt; Median :0.004424   Median :0.7577   Median :1.0139   Median :  1452  </span></span>
<span id="cb107-18"><a href="associationrules.html#cb107-18"></a><span class="co">#&gt; Mean   :0.021271   Mean   :0.7269   Mean   :1.0906   Mean   :  6982  </span></span>
<span id="cb107-19"><a href="associationrules.html#cb107-19"></a><span class="co">#&gt; 3rd Qu.:0.012960   3rd Qu.:0.8131   3rd Qu.:1.0933   3rd Qu.:  4254  </span></span>
<span id="cb107-20"><a href="associationrules.html#cb107-20"></a><span class="co">#&gt; Max.   :0.376836   Max.   :0.9539   Max.   :4.2777   Max.   :123692  </span></span>
<span id="cb107-21"><a href="associationrules.html#cb107-21"></a><span class="co">#&gt; </span></span>
<span id="cb107-22"><a href="associationrules.html#cb107-22"></a><span class="co">#&gt; mining info:</span></span>
<span id="cb107-23"><a href="associationrules.html#cb107-23"></a><span class="co">#&gt;   data ntransactions support confidence</span></span>
<span id="cb107-24"><a href="associationrules.html#cb107-24"></a><span class="co">#&gt; transactions        328238   0.001        0.5</span></span></code></pre></div>
<p>By looking at the summary, we see that the algorithm found <span class="math inline">\(141\)</span> rules that satisfy the support and confidence thresholds. Then the rule length distribution is printed. Here, <span class="math inline">\(45\)</span> rules are of size <span class="math inline">\(2\)</span> and <span class="math inline">\(96\)</span> rules are of size <span class="math inline">\(3\)</span>. Then, some standard statistics are shown for support, confidence, and lift. The <code>inspect()</code> function can be used to print the actual rules. Rules can be sorted by one of the importance measures. The following code sorts by lift and prints the first <span class="math inline">\(20\)</span> rules. Figure <a href="associationrules.html#fig:resrules">6.13</a> shows the output.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="associationrules.html#cb108-1"></a><span class="co"># Print the first n (20) rules with highest lift in decreasing order.</span></span>
<span id="cb108-2"><a href="associationrules.html#cb108-2"></a><span class="kw">inspect</span>(<span class="kw">sort</span>(resrules, <span class="dt">by=</span><span class="st">&#39;lift&#39;</span>, <span class="dt">decreasing =</span> T)[<span class="dv">1</span><span class="op">:</span><span class="dv">20</span>])</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:resrules"></span>
<img src="images/resrules.png" alt="Output of the inspect() function." width="100%" />
<p class="caption">
Figure 6.13: Output of the inspect() function.
</p>
</div>
<p>The first rule with a lift of <span class="math inline">\(4.27\)</span> says that if a homicide was committed by an <em>adult</em> and the victim was the <em>stepson</em>, then is it likely that a <em>blunt object</em> was used for the crime. By looking at the rules one can also note that whenever <em>blunt object</em> appears either in the lhs or rhs the victim was probably an infant. Another thing to note is that when the victim was <em>boyfriend</em>, the crime was likely committed with a <em>knife</em>. This is also mentioned in the reports “Homicide trends in the United States” <span class="citation">(Cooper, Smith, and others <a href="#ref-cooper2012" role="doc-biblioref">2012</a>)</span>:</p>
<blockquote>
<p>From 1980 through 2008 “Boyfriends were more likely to be killed by knives than any other group of intimates.”</p>
</blockquote>
<p>According to rule <span class="math inline">\(20\)</span>, crimes involving <em>girlfriend</em> have a strong relationship with <em>strangulation</em>. This can also be confirmed in <span class="citation">(Cooper, Smith, and others <a href="#ref-cooper2012" role="doc-biblioref">2012</a>)</span>:</p>
<blockquote>
<p>From 1980 through 2008 “Girlfriends were more likely to be killed by force…”</p>
</blockquote>
<p>The resulting rules can be plotted with the <code>plot()</code> function. By default, it generates a scatterplot with the <em>support</em> in the <span class="math inline">\(x\)</span> axis and <em>confidence</em> in the <span class="math inline">\(y\)</span> axis colored by <em>lift</em>.</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="associationrules.html#cb109-1"></a><span class="co"># Plot a default scatterplot of support v.s. confidence colored by lift.</span></span>
<span id="cb109-2"><a href="associationrules.html#cb109-2"></a><span class="kw">plot</span>(resrules)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:rulesScatter"></span>
<img src="images/rules_scatter.png" alt="Scatterplot of rules support v.s. confidence colored by lift." width="90%" />
<p class="caption">
Figure 6.14: Scatterplot of rules support v.s. confidence colored by lift.
</p>
</div>
<p>The plot shows that rules with a high <em>lift</em> also have a low <em>support</em> and <em>confidence</em>. <span class="citation">Hahsler (<a href="#ref-Hahsler2017" role="doc-biblioref">2017</a>)</span> mentioned that rules with high <em>lift</em> typically have low <em>support</em>. The plot can be customized for example to show the <em>support</em> and <em>lift</em> in the axes and colors them by confidence. The axes can be set with the <code>measure</code> parameter and the coloring with the <code>shading</code> parameter. The function also supports different plotting engines including static and interactive. The following code generates a customized interactive plot by setting <code>engine = "htmlwidget"</code>. This is very handy if you want to know which points correspond to which rules. By hovering the mouse on the desired point the corresponding rule is shown as a tooltip box (Figure <a href="associationrules.html#fig:rulesScatterInt">6.15</a>). The interactive plots also allow to zoom in regions by clicking and dragging.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="associationrules.html#cb110-1"></a><span class="co"># Customize scatterplot to make it interactive</span></span>
<span id="cb110-2"><a href="associationrules.html#cb110-2"></a><span class="co"># and plot support v.s. lift colored by confidence.</span></span>
<span id="cb110-3"><a href="associationrules.html#cb110-3"></a><span class="kw">plot</span>(resrules, <span class="dt">engine =</span> <span class="st">&quot;htmlwidget&quot;</span>,</span>
<span id="cb110-4"><a href="associationrules.html#cb110-4"></a>     <span class="dt">measure =</span> <span class="kw">c</span>(<span class="st">&quot;support&quot;</span>, <span class="st">&quot;lift&quot;</span>), <span class="dt">shading =</span> <span class="st">&quot;confidence&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:rulesScatterInt"></span>
<img src="images/rules_scatter_int.png" alt="Interactive scatterplot of rules." width="90%" />
<p class="caption">
Figure 6.15: Interactive scatterplot of rules.
</p>
</div>
<p>The <code>arulesViz</code> package has a nice option to plot rules as a graph. This is done by setting <code>method = "graph"</code>. We can also make the graph interactive for easier exploration by setting <code>engine="htmlwidget"</code>. For clarity, the font size is reduced with <code>cex=0.9</code>. Here we plot the first <span class="math inline">\(25\)</span> rules.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="associationrules.html#cb111-1"></a><span class="co"># Plot rules as a graph.</span></span>
<span id="cb111-2"><a href="associationrules.html#cb111-2"></a><span class="kw">plot</span>(<span class="kw">head</span>(<span class="kw">sort</span>(resrules, <span class="dt">by =</span> <span class="st">&quot;lift&quot;</span>), <span class="dt">n=</span><span class="dv">25</span>),</span>
<span id="cb111-3"><a href="associationrules.html#cb111-3"></a>     <span class="dt">method =</span> <span class="st">&quot;graph&quot;</span>,</span>
<span id="cb111-4"><a href="associationrules.html#cb111-4"></a>     <span class="dt">control=</span><span class="kw">list</span>(<span class="dt">cex=</span>.<span class="dv">9</span>),</span>
<span id="cb111-5"><a href="associationrules.html#cb111-5"></a>     <span class="dt">engine=</span><span class="st">&quot;htmlwidget&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:rulesGraphInt"></span>
<img src="images/rules_graph.png" alt="Interactive graph of rules." width="90%" />
<p class="caption">
Figure 6.16: Interactive graph of rules.
</p>
</div>
<p>Figure <a href="associationrules.html#fig:rulesGraphInt">6.16</a> shows a zoomed-in portion of the entire graph. Circles represent rules and rounded squares items. The size of the circle is relative to the <em>support</em> and color relative to the <em>lift</em>. Incoming arrows represent the items in the antecedent and the outgoing arrow of a circle points to the item in the consequent part of the rule. From this graph, some interesting patterns can be seen. First, when the age category of the perpetrator is <em>lateAdulthood</em> the victims were the <em>husband</em> or <em>ex-wife</em>. When the perpetrator is a <em>teen</em>, the victim was likely a <em>friend</em> or <em>stranger</em>.</p>
<p>The <code>arulesViz</code> package has a cool function <code>ruleExplorer()</code> that generates a shiny app with interactive controls and several plot types. When running the following code (output not shown) you may be asked to install additional shiny related packages.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="associationrules.html#cb112-1"></a><span class="co"># Opens a shiny app with several interactive plots.</span></span>
<span id="cb112-2"><a href="associationrules.html#cb112-2"></a><span class="kw">ruleExplorer</span>(resrules)</span></code></pre></div>
<p>Sometimes Apriori returns thousands of rules. There is a convenient <code>subset()</code> function to extract rules of interest. For example, we can select only the rules that contain <em>R.Girlfriend</em> in the antecedent (lhs) with:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="associationrules.html#cb113-1"></a><span class="co"># Subset transactions.</span></span>
<span id="cb113-2"><a href="associationrules.html#cb113-2"></a>rulesGirlfriend &lt;-<span class="st"> </span><span class="kw">subset</span>(resrules, <span class="dt">subset =</span> lhs <span class="op">%in%</span><span class="st"> &quot;R.Girlfriend&quot;</span>)</span>
<span id="cb113-3"><a href="associationrules.html#cb113-3"></a></span>
<span id="cb113-4"><a href="associationrules.html#cb113-4"></a><span class="co"># Print rules with highest lift.</span></span>
<span id="cb113-5"><a href="associationrules.html#cb113-5"></a><span class="kw">inspect</span>(<span class="kw">head</span>(rulesGirlfriend, <span class="dt">n =</span> <span class="dv">3</span>, <span class="dt">by =</span> <span class="st">&quot;lift&quot;</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:resrulesGirlfriend"></span>
<img src="images/inspectGirlfriend.png" alt="Output of the inspect() function." width="100%" />
<p class="caption">
Figure 6.17: Output of the inspect() function.
</p>
</div>
<p>In this section, we showed how interesting rules can be extracted from a crimes database. Several preprocessing steps were required to transform the tabular data into transactional data. This example demonstrated how the same data can be represented in different ways (tabular and transactional). The next chapter will cover more details about how data can be transformed into <strong>different representations</strong> suitable for different types of learning algorithms.</p>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-agrawal1994">
<p>Agrawal, Rakesh, and Ramakrishnan Srikant. 1994. “Fast Algorithms for Mining Association Rules.” In <em>Proc. 20th Int. Conf. Very Large Data Bases, Vldb</em>, 1215:487–99.</p>
</div>
<div id="ref-cooper2012">
<p>Cooper, Alexia, Erica L Smith, and others. 2012. <em>Homicide Trends in the United States, 1980-2008</em>. BiblioGov.</p>
</div>
<div id="ref-Hahsler2017">
<p>Hahsler, Michael. 2017. “ArulesViz: Interactive Visualization of Association Rules with R.” <em>R Journal</em> 9 (2): 163–75. <a href="https://journal.r-project.org/archive/2017/RJ-2017-047/RJ-2017-047.pdf">https://journal.r-project.org/archive/2017/RJ-2017-047/RJ-2017-047.pdf</a>.</p>
</div>
<div id="ref-ParulesViz">
<p>Hahsler, Michael. 2019. <em>ArulesViz: Visualizing Association Rules and Frequent Itemsets</em>. <a href="https://CRAN.R-project.org/package=arulesViz">https://CRAN.R-project.org/package=arulesViz</a>.</p>
</div>
<div id="ref-arules">
<p>Hahsler, Michael, Christian Buchta, Bettina Gruen, and Kurt Hornik. 2019. <em>Arules: Mining Association Rules and Frequent Itemsets</em>. <a href="https://CRAN.R-project.org/package=arules">https://CRAN.R-project.org/package=arules</a>.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="12">
<li id="fn12"><p><a href="https://www.kaggle.com/murderaccountability/homicide-reports" class="uri">https://www.kaggle.com/murderaccountability/homicide-reports</a><a href="associationrules.html#fnref12" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="the-silhouette-index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="SummaryUnsupervised.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
